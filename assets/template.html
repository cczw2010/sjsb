<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
	<meta content="telephone=no" name="format-detection" />
	<meta content="email=no" name="format-detection" />
	<meta name="apple-mobile-web-app-capable" content="no" />  <!-- 离线应用的另一个技巧  -->    
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />  <!-- 隐藏状态栏      -->   
	<meta content="black" name="apple-mobile-web-app-status-bar-style" /> <!--  指定的iphone中safari顶端的状态条的样式     -->    
	<meta content="telephone=no" name="format-detection" />       <!-- 告诉设备忽略将页面中的数字识别为电话号码 -->      
	<meta content="email=no" name="format-detection" />        <!-- 告诉设备忽略将页面中的数字识别为电话号码 -->      
	<meta name="Author" contect="awen"/ >  
	<!-- 
	<link rel="apple-touch-startup-image" href="startup.png" />  设置开始页面图片
	<link rel="apple-touch-icon" href="iphon_tetris_icon.png"/>  在设置书签的时候可以显示好看的图标
	<link rel="stylesheet" media="all and (orientation:portrait)" href="portrait.css">    肖像模式样式       
	<link rel="stylesheet" media="all and (orientation:landscape)" href="landscape.css">   风景模式样式 
	-->
	<title>awen</title>
	<style>
	 html,body{
	 	margin:0;
	 	padding:0;
	 }
	 body{

	 }
	 li{
		border-bottom: 1px solid $ccc;
		margin: 10px;
		line-height: 20px;
	 }
	</style>
</head>
<body>
<ul>
	<li>
		<button id="appcounter">获取启动次数</button>
	</li>
	<li>
		<button id="appversion">获取应用版本号</button>
	</li>
	<li>
		<button id="toast">显示Toast</button>
	</li>
	<li>
		<button id="progress">显示Progress</button>
	</li>
	<li>
		<button id="deviceinfo">设备信息</button>
	</li>
	<li>
		<button id="webwh">获取webview分辨率</button>
	</li>
	<li>
		<button id="log">打印log日志</button>
	</li>
	<li>
		<button id="online">是否在线</button>
	</li>
	<li>
		<button id="nettype">网络类型</button>
	</li>
	<!-- <li>
		<button id="paths">各种路径</button>
	</li> -->
	<li>
		<button id="prop">设置获取应用变量</button>
	</li>
	<li>
		<button id="delprop">删除应用变量</button>
	</li>
	<li>
		<button id="clearprop">清空应用变量</button>
	</li>
	<li>
		<button id="clearwebcache">清空浏览器缓存和历史记录</button>
	</li>
	<li>
		<button id="clearappcache">清空应用缓存（包括浏览器缓存和应用变量）</button>
	</li>
<!-- 	<li>
		<button id="webmessage">web消息(可在应用外吊起应用) doing</button>
	</li> -->
	<li>
		<button id="snapshot">webview截图</button><img src="" alt="" width="100">
	</li>
	<li>
		<button id="camera">相机</button><img src="" alt="" width="100">
	</li>
	<li>
		<button id="qrcodecamera">扫描二维码</button><input type="text" placeholder="这里是扫描结果">
	</li>
	<li>
		<button id="getgps">获取地理信息</button>
	</li>
	<li>
		<button id="vibrator">震动不循环</button>
		<button id="vibrator2">震动循环</button>
		<button id="vibratorstop">停止</button>
	</li>
	<li>
		<button id="refreshdis">设置下拉刷新不可用</button>
	</li>
	<li>
		<button id="menubtn">设置menu键的回调</button>
	</li>
	<li>
		<button id="backbtn">设置back键的回调</button>
	</li>
	<li>
		<button id="exitapp">退出 doing</button>
	</li>

	<li>
			<input type="text"  placeholder="看看键盘是不是挡住我了">
	</li>
</ul>
<script	type="text/javascript">
	var refreshstatus = 1;
	document.body.addEventListener('click',function(e){
		var o = e.target;
		switch(o.id){
			case 'toast':
				SJSB.toast('ok',4,1);
			break;
			case 'webwh':
				var w = SJSB.getWebWidth(),
					h = SJSB.getWebHeight();
				SJSB.toast(w+':'+h,0,1);
			break;
			case 'progress':
				SJSB.showProgress('正在加载中，小伙别着急');
			break;
			case 'log':
				SJSB.log('SJSB','这是打印的log日志测试');
				break;
			case 'deviceinfo':
				alert(SJSB.getDeviceInfo());
				break;
			case 'appversion':
				alert(SJSB.getAppVersion());
				break;
			case 'online':
				SJSB.toast(SJSB.onLine(),0,1);
				break;
			case 'nettype':
				SJSB.toast(SJSB.netType(),0,1);
				break;
			
			case 'paths':
				var cache = SJSB.getCachePath();
				var appfile = SJSB.getFilePath();
				alert('应用缓存路径:'+cache+'\n应用文件路径:'+appfile);
				break;
			case "clearwebcache":
				SJSB.clearWebCache();
				break;
			case "clearappcache":
				SJSB.clearAppCache();
				break;
			case 'snapshot':
				var jpg = SJSB.getSnapshot(50);
				alert(jpg);
				o.nextSibling.src = jpg;
				break;
			case "camera":
				SJSB.camera(0,0,"camerafn");
				break;
			case "qrcodecamera":
				SJSB.qrcodeCamera("qrshow");
				break;
			case "prop":
				SJSB.setAppProp("temp_key","这是一条应用变量");
				alert("应用变量：temp_key："+SJSB.getAppProp("temp_key"));
				break;
			case "delprop":
				SJSB.removeAppProp("temp_key");
				alert("应用变量：temp_key："+SJSB.removeAppProp("temp_key"));
				break;
			case "clearprop":
				SJSB.clearAppProp();
				alert("应用变量：temp_key的值被设置为："+SJSB.getAppProp("temp_key"));
				break;
			case "webmessage":
				location.href="sjsb://test/test";
				break;
			case "menubtn":
				SJSB.setMenuBtnFn('menubtnfn');
				break;
			case "backbtn":
				SJSB.setBackBtnFn('backbtnfn');
				break;
			case "exitapp":
				SJSB.exitApp();
				break;
			case "appcounter":
				SJSB.toast(SJSB.getAppCounter(),0,0);
				break;
			case "getgps":
				SJSB.toast(SJSB.getGps(),0,0);
				break;
			case "vibratorstop":
				SJSB.stopVibrator();
				break;
			case "vibrator":
				SJSB.vibrator(500,100,-1);
				break;
			case "vibrator2":
				SJSB.vibrator(1000,100,0);
				break;
			case "refreshdis":
				SJSB.disSwipeRefresh();
				break;
		}
	});
	function test(result){
		document.getElementById("camera").nextSibling.src = result;
	}
	function camerafn(result){
		alert(result);
		document.getElementById("camera").nextSibling.src = result;
	}
	function qrshow(result){
		document.getElementById("qrcodecamera").nextSibling.value = result;
	}
	function menubtnfn(){
		alert('没菜单，用js自定义吧');
	}
	function backbtnfn(){
		if(confirm('确认退出吗？')){
			SJSB.exitApp();
		}
	}
</script>
 </body>
</html>